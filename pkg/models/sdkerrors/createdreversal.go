// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package sdkerrors

import (
	"encoding/json"
	"fmt"
	"github.com/speakeasy-sdks/moov-go/pkg/utils"
	"time"
)

// SchemasFailureCode - This field is deprecated and will be removed in December 2023.
//
// Deprecated type: This will be removed in a future release, please migrate away from it as soon as possible.
type SchemasFailureCode string

const (
	SchemasFailureCodeCallIssuer              SchemasFailureCode = "call-issuer"
	SchemasFailureCodeDoNotHonor              SchemasFailureCode = "do-not-honor"
	SchemasFailureCodeProcessingError         SchemasFailureCode = "processing-error"
	SchemasFailureCodeInvalidTransaction      SchemasFailureCode = "invalid-transaction"
	SchemasFailureCodeInvalidAmount           SchemasFailureCode = "invalid-amount"
	SchemasFailureCodeNoSuchIssuer            SchemasFailureCode = "no-such-issuer"
	SchemasFailureCodeReenterTransaction      SchemasFailureCode = "reenter-transaction"
	SchemasFailureCodeCvvMismatch             SchemasFailureCode = "cvv-mismatch"
	SchemasFailureCodeLostOrStolen            SchemasFailureCode = "lost-or-stolen"
	SchemasFailureCodeInsufficientFunds       SchemasFailureCode = "insufficient-funds"
	SchemasFailureCodeInvalidCardNumber       SchemasFailureCode = "invalid-card-number"
	SchemasFailureCodeExpiredCard             SchemasFailureCode = "expired-card"
	SchemasFailureCodeIncorrectPin            SchemasFailureCode = "incorrect-pin"
	SchemasFailureCodeTransactionNotAllowed   SchemasFailureCode = "transaction-not-allowed"
	SchemasFailureCodeSuspectedFraud          SchemasFailureCode = "suspected-fraud"
	SchemasFailureCodeAmountLimitExceeded     SchemasFailureCode = "amount-limit-exceeded"
	SchemasFailureCodeVelocityLimitExceeded   SchemasFailureCode = "velocity-limit-exceeded"
	SchemasFailureCodeCardNotActivated        SchemasFailureCode = "card-not-activated"
	SchemasFailureCodeIssuerNotAvailable      SchemasFailureCode = "issuer-not-available"
	SchemasFailureCodeCouldNotRoute           SchemasFailureCode = "could-not-route"
	SchemasFailureCodeCardholderAccountClosed SchemasFailureCode = "cardholder-account-closed"
	SchemasFailureCodeUnknownIssue            SchemasFailureCode = "unknown-issue"
	SchemasFailureCodeDuplicateTransaction    SchemasFailureCode = "duplicate-transaction"
)

func (e SchemasFailureCode) ToPointer() *SchemasFailureCode {
	return &e
}

func (e *SchemasFailureCode) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "call-issuer":
		fallthrough
	case "do-not-honor":
		fallthrough
	case "processing-error":
		fallthrough
	case "invalid-transaction":
		fallthrough
	case "invalid-amount":
		fallthrough
	case "no-such-issuer":
		fallthrough
	case "reenter-transaction":
		fallthrough
	case "cvv-mismatch":
		fallthrough
	case "lost-or-stolen":
		fallthrough
	case "insufficient-funds":
		fallthrough
	case "invalid-card-number":
		fallthrough
	case "expired-card":
		fallthrough
	case "incorrect-pin":
		fallthrough
	case "transaction-not-allowed":
		fallthrough
	case "suspected-fraud":
		fallthrough
	case "amount-limit-exceeded":
		fallthrough
	case "velocity-limit-exceeded":
		fallthrough
	case "card-not-activated":
		fallthrough
	case "issuer-not-available":
		fallthrough
	case "could-not-route":
		fallthrough
	case "cardholder-account-closed":
		fallthrough
	case "unknown-issue":
		fallthrough
	case "duplicate-transaction":
		*e = SchemasFailureCode(v)
		return nil
	default:
		return fmt.Errorf("invalid value for SchemasFailureCode: %v", v)
	}
}

// SynchronousRefundResponse - Details of a card refund
type SynchronousRefundResponse struct {
	// A representation of money containing an integer value and it's currency.
	Amount      *Amount            `json:"amount,omitempty"`
	CardDetails *RefundCardDetails `json:"cardDetails,omitempty"`
	CreatedOn   *time.Time         `json:"createdOn,omitempty"`
	// This field is deprecated and will be removed in December 2023.
	//
	// Deprecated field: This will be removed in a future release, please migrate away from it as soon as possible.
	FailureCode *SchemasFailureCode `json:"failureCode,omitempty"`
	// UUID v4
	RefundID  *string       `json:"refundID,omitempty"`
	Status    *RefundStatus `json:"status,omitempty"`
	UpdatedOn *time.Time    `json:"updatedOn,omitempty"`
}

func (s SynchronousRefundResponse) MarshalJSON() ([]byte, error) {
	return utils.MarshalJSON(s, "", false)
}

func (s *SynchronousRefundResponse) UnmarshalJSON(data []byte) error {
	if err := utils.UnmarshalJSON(data, &s, "", false, false); err != nil {
		return err
	}
	return nil
}

func (o *SynchronousRefundResponse) GetAmount() *Amount {
	if o == nil {
		return nil
	}
	return o.Amount
}

func (o *SynchronousRefundResponse) GetCardDetails() *RefundCardDetails {
	if o == nil {
		return nil
	}
	return o.CardDetails
}

func (o *SynchronousRefundResponse) GetCreatedOn() *time.Time {
	if o == nil {
		return nil
	}
	return o.CreatedOn
}

func (o *SynchronousRefundResponse) GetFailureCode() *SchemasFailureCode {
	if o == nil {
		return nil
	}
	return o.FailureCode
}

func (o *SynchronousRefundResponse) GetRefundID() *string {
	if o == nil {
		return nil
	}
	return o.RefundID
}

func (o *SynchronousRefundResponse) GetStatus() *RefundStatus {
	if o == nil {
		return nil
	}
	return o.Status
}

func (o *SynchronousRefundResponse) GetUpdatedOn() *time.Time {
	if o == nil {
		return nil
	}
	return o.UpdatedOn
}

type CreatedReversal struct {
	Cancellation *CreatedCancellation       `json:"cancellation,omitempty"`
	Refund       *SynchronousRefundResponse `json:"refund,omitempty"`
}

var _ error = &CreatedReversal{}

func (e *CreatedReversal) Error() string {
	data, _ := json.Marshal(e)
	return string(data)
}
